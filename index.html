<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MindAR Debugger</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: black; }
    
    /* Ø§Ø³ØªØ§ÛŒÙ„ Ù¾Ù†Ù„ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† Ù…Ø±Ø§Ø­Ù„ */
    #debug-panel {
      position: absolute; top: 0; left: 0; width: 100%; padding: 20px;
      color: yellow; font-family: monospace; font-size: 16px;
      background: rgba(0,0,0,0.8); z-index: 9999; pointer-events: none;
    }
  </style>

  <script src="https://unpkg.com/three@0.147.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-three.prod.js"></script>
</head>

<body>
  <div id="debug-panel">Initializing...</div>

  <script>
    const debugDiv = document.getElementById('debug-panel');
    
    function log(msg, color="yellow") {
      debugDiv.innerHTML += `<br/><span style="color:${color}">${msg}</span>`;
      console.log(msg);
    }

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ù„ÙˆØ¯ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ØŸ
    if (!window.THREE) { log("âŒ Three.js Ù„ÙˆØ¯ Ù†Ø´Ø¯ (Ø§ÛŒÙ†ØªØ±Ù†Øª Ú†Ú© Ø´ÙˆØ¯)", "red"); }
    else if (!window.MINDAR) { log("âŒ MindAR Ù„ÙˆØ¯ Ù†Ø´Ø¯ (ÙÛŒÙ„ØªØ±Ø´Ú©Ù† Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯)", "red"); }
    else { log("âœ… Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ù„ÙˆØ¯ Ø´Ø¯Ù†Ø¯."); startApp(); }

    async function startApp() {
      try {
        log("ðŸš€ ØªÙ†Ø¸ÛŒÙ…Ø§Øª MindAR...");
        
        const mindarThree = new window.MINDAR.IMAGE.MindARThree({
          container: document.body,
          // ÙØ§ÛŒÙ„ ØªØ³Øª Ø±Ø§Ú©ÙˆÙ† (Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙÛŒÙ„ØªØ±Ø´Ú©Ù† Ø¯Ø§Ø±Ø¯)
          imageTargetSrc: "https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/card.mind",
          // Ø­Ø°Ù ØµÙØ­Ù‡ Ù„ÙˆØ¯ÛŒÙ†Ú¯ Ø³ÙÛŒØ¯
          uiLoading: "no", 
          uiScanning: "yes", // Ù†Ù…Ø§ÛŒØ´ Ø§Ø³Ú©Ù†Ø±
        });

        const { renderer, scene, camera } = mindarThree;

        // Ù†ÙˆØ±
        const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);
        scene.add(light);

        // Ø§Ù†Ú©Ø±
        const anchor = mindarThree.addAnchor(0);
        
        // Ù…Ú©Ø¹Ø¨ Ø³Ø¨Ø²
        const geometry = new THREE.BoxGeometry(0.5, 0.5, 0.5);
        const material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
        const cube = new THREE.Mesh(geometry, material);
        cube.position.z = 0.2;
        anchor.group.add(cube);

        log("â³ Ø¯Ø± Ø­Ø§Ù„ Ø±ÙˆØ´Ù† Ú©Ø±Ø¯Ù† Ø¯ÙˆØ±Ø¨ÛŒÙ† (ØµØ¨Ø± Ú©Ù†ÛŒØ¯)...");
        
        await mindarThree.start();
        
        log("ðŸ“· Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø±ÙˆØ´Ù† Ø´Ø¯!", "#00ff00");
        log("âœ… Ú©Ø§Ø±Øª Ø±Ø§Ú©ÙˆÙ† Ø±Ø§ Ø¬Ù„ÙˆÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¨Ú¯ÛŒØ±ÛŒØ¯.");

        renderer.setAnimationLoop(() => {
          cube.rotation.x += 0.01;
          cube.rotation.y += 0.01;
          renderer.render(scene, camera);
        });

      } catch (err) {
        log("â›” Ø®Ø·Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ: " + err.message, "red");
      }
    }
  </script>
</body>
</html>
